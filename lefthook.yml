pre-commit:
  parallel: true
  commands:
    rust-format:
      glob: "*.rs"
      run: cargo fmt --all --
      stage_fixed: true
    rust-lint:
      glob: "*.rs"
      run: cargo clippy --fix --allow-dirty --allow-staged -- -D warnings
      stage_fixed: true
    markdown-lint:
      glob: "*.md"
      run: npx --yes markdownlint-cli {staged_files}
      stage_fixed: true
